---
title: React初识
date: 2021-11-07 18:00:52
tags:
---

### 什么是React？

React是由Facebook开发并维护的***声明式***，***高效***且***灵活***的用于构建用户界面的JavaScript库。使用React可以将一些简短、独立的代码片段***组合***成复杂的UI界面，这些代码片段被称作"组件"。

#### 声明式与命令式区别，各有什么优缺点？

目前主要存在两种常见的声明式和命令式的编程范式。声明式编程和命令式编程的关键区别在于：声明式编程以结果为导向，侧重于应该做什么，例如map函数，只需要关系函数的输入，然后调用map函数，得出结果，采用声明式的为iOS，Android等纯代码搭建UI；而命令式编程以过程为导向，侧重于程序应该如何实现，例如map函数，map函数的实现，到一步步计算出对应结果，具体采用声明式为Flutter、React、RN等以类似标记语言构建UI。

那这两种编程范式的优缺点是什么呢？为什么现在大多数前端的框架都趋向于声明式。比如iOS的SwiftUI、React、RN等？
1. ***高效***：声明式UI更加直观，开发效率更高；命令式UI相比来说，开发效率低；
2. ***灵活***：声明式以结果为导向，灵活性低；命令式相以过程为导向，灵活性高；
3. ***复杂度***: 声明式更偏向于现代化，复杂度低；命令式则复杂度高；

#### React解决了什么问题？

其实这个问题[React官方文档](https://zh-hans.reactjs.org/)已经把这个问题描述的很清楚了：主要分为声明式、组件化以及一次学习，跨平台编写3部分
1. ***声明式***：React使创建交互式UI变得轻而易举。为你应用的每一个状态设计简洁的视图，当数据变动时React能高效更新并渲染合适的组件。以声明式编写UI，可以让你的代码更加可靠，且方便调试；
2. ***组件化***：构建管理自身状态的封装组件，然后对其组合一构成复杂的UI.由于组件逻辑使用JavaScript编写而非模板，因此你可以轻松地在应用中传递数据，并保持状态与DOM分离；
3. ***一次学习，跨平台编写***：无论你现在使用什么技术栈，在无需重写现有代码的前提下，通过引入React来开发新功能。React还可以使用Node进行服务器渲染，或使用React Native开发元素移动应用开发。

### JSX

JSX是JavaScript的语法糖，在Babel编译的时候会将元素转换成<code>React.createElement(component, props, ...children)</code>函数；它可以很好的描述UI应该呈现出交互的本质形式，能更直观的表示出元素之间的关系。

> ***Babel是一个JavaScript编译器***

> Babel是一个工具链，主要用于将采用ECMASceipt2015+语法编写的代码转换为向后兼容的JavaScript语法，以便能够运行在当前和旧版本的浏览器或其他环境中。Babel到底做了什么呢？

> * 语法转换
> * 通过Polyfill方式在目标环境中添加缺失的特性
> * 源码转换(codemods)
> * 转换JSX语法
> * 删除类型注释，不做类型检查(Flow/TypeScript)
> * 可调试：支持source map, 可调试编译后的代码
> * 符合规范：尽最大可能遵循ES标准，还提供了特定的选项来对标准和性能做权衡
> * 代码紧凑：尽最大可能用最少的代码并且不依赖太大量的运行环境

#### 为什么React要引入JSX？有什么优缺点？

1. UI构建方式：UI构建方便与H5相似，对应前端开发人员来说还是熟悉的配方，并且更加灵活。因为它本质上就是JavaScript；同时也不需要专门的学习一种新的模板语言，来动态的修改h5,而是直接使用JSX描述组件。
2. 防止注入攻击：React DOM在渲染所有输入内容之前，会默认进行转义。它可以确保在你的应用中，永远不会注入那些并非自己明确编写的内容。所有的内容在渲染之前都被转换成了字符串。
3. JSX是表达式：既可以是对象，也可以是函数；也就是说，你可以在 if 语句和 for 循环的代码块中使用 JSX，将 JSX 赋值给变量，把 JSX 当作参数传入，以及从函数中返回 JSX.

### React元素是如何渲染的？



### React的事件响应和传递机制?(捕获、冒泡)

### 参考文件:

[Babel、polyfill](https://zh.javascript.info/polyfills#babel)

[React官方文档](https://zh-hans.reactjs.org/)

[你不知道的浏览器渲染原理](https://www.infoq.cn/article/dltdultozik_zrqfb4jg)